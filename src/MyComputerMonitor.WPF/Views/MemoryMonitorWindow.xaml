<Window x:Class="MyComputerMonitor.WPF.Views.MemoryMonitorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:oxy="http://oxyplot.org/wpf"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="å†…å­˜ç›‘æŽ§" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜æ  -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="0,0,0,1">
            <Grid Height="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- æ ‡é¢˜ -->
                <StackPanel Grid.Column="0" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <TextBlock Text="ðŸ§ " 
                              FontSize="20" 
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                    <TextBlock Text="å†…å­˜ç›‘æŽ§" 
                              FontSize="16" 
                              FontWeight="SemiBold"
                              VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- æŽ§åˆ¶æŒ‰é’® -->
                <StackPanel Grid.Column="2" 
                           Orientation="Horizontal"
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <Button Content="ðŸ”„" 
                           Width="32" 
                           Height="32"
                           Margin="0,0,8,0"
                           Click="RefreshButton_Click"
                           ToolTip="åˆ·æ–°æ•°æ®"/>
                    <ComboBox x:Name="TimeRangeComboBox"
                             Width="120"
                             SelectedIndex="2"
                             SelectionChanged="TimeRangeComboBox_SelectionChanged">
                        <ComboBoxItem Content="æœ€è¿‘ 5 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 15 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 30 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 1 å°æ—¶"/>
                        <ComboBoxItem Content="æœ€è¿‘ 2 å°æ—¶"/>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- ä¸»å†…å®¹ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- å†…å­˜åŸºæœ¬ä¿¡æ¯ -->
                <Border Grid.Row="0" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="å†…å­˜ä¿¡æ¯" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="æ€»å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="TotalMemoryTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="å·²ç”¨å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="UsedMemoryTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="å¯ç”¨å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="AvailableMemoryTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="å†…å­˜é¢‘çŽ‡ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="MemorySpeedTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="å†…å­˜ç±»åž‹ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="MemoryTypeTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="å®žæ—¶çŠ¶æ€" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,12"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="ä½¿ç”¨çŽ‡ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="MemoryUsageTextBlock" Text="0%" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="æäº¤å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="CommittedMemoryTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="ç¼“å­˜å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="CachedMemoryTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="é¡µé¢æ–‡ä»¶ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="PageFileTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="å†…æ ¸å†…å­˜ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="KernelMemoryTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </Border>
                
                <!-- å†…å­˜ä½¿ç”¨çŽ‡åŽ†å²å›¾è¡¨ -->
                <Border Grid.Row="1" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="å†…å­˜ä½¿ç”¨çŽ‡åŽ†å²"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <oxy:PlotView Grid.Row="1" 
                                     x:Name="MemoryUsagePlot"
                                     Background="Transparent"
                                     MinHeight="200"/>
                    </Grid>
                </Border>
                
                <!-- å†…å­˜è¯¦ç»†ä½¿ç”¨æƒ…å†µ -->
                <Border Grid.Row="2" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="å†…å­˜è¯¦ç»†ä½¿ç”¨æƒ…å†µ"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <oxy:PlotView Grid.Row="1" 
                                     x:Name="MemoryDetailPlot"
                                     Background="Transparent"
                                     MinHeight="200"/>
                    </Grid>
                </Border>
                
                <!-- å†…å­˜æ¨¡å—ä¿¡æ¯ -->
                <Border Grid.Row="3" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="å†…å­˜æ¨¡å—ä¿¡æ¯"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <DataGrid Grid.Row="1" 
                                 x:Name="MemoryModulesDataGrid" 
                                 MinHeight="200" 
                                 AutoGenerateColumns="False"
                                 CanUserAddRows="False" 
                                 CanUserDeleteRows="False" 
                                 IsReadOnly="True"
                                 GridLinesVisibility="Horizontal" 
                                 HeadersVisibility="Column">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="æ’æ§½" Binding="{Binding Slot}" Width="80"/>
                                <DataGridTextColumn Header="å®¹é‡" Binding="{Binding Capacity}" Width="100"/>
                                <DataGridTextColumn Header="é¢‘çŽ‡" Binding="{Binding Speed}" Width="100"/>
                                <DataGridTextColumn Header="ç±»åž‹" Binding="{Binding Type}" Width="80"/>
                                <DataGridTextColumn Header="åˆ¶é€ å•†" Binding="{Binding Manufacturer}" Width="120"/>
                                <DataGridTextColumn Header="åž‹å·" Binding="{Binding PartNumber}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>
                
                <!-- å†…å­˜è¿›ç¨‹æŽ’è¡Œ -->
                <Border Grid.Row="4" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="å†…å­˜ä½¿ç”¨æŽ’è¡Œï¼ˆå‰10åï¼‰"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <DataGrid Grid.Row="1" 
                                 x:Name="MemoryProcessesDataGrid" 
                                 MinHeight="250" 
                                 AutoGenerateColumns="False"
                                 CanUserAddRows="False" 
                                 CanUserDeleteRows="False" 
                                 IsReadOnly="True"
                                 GridLinesVisibility="Horizontal" 
                                 HeadersVisibility="Column">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="è¿›ç¨‹å" Binding="{Binding ProcessName}" Width="*"/>
                                <DataGridTextColumn Header="PID" Binding="{Binding ProcessId}" Width="80"/>
                                <DataGridTextColumn Header="å†…å­˜ä½¿ç”¨" Binding="{Binding MemoryUsage}" Width="120"/>
                                <DataGridTextColumn Header="å·¥ä½œé›†" Binding="{Binding WorkingSet}" Width="120"/>
                                <DataGridTextColumn Header="ç§æœ‰å­—èŠ‚" Binding="{Binding PrivateBytes}" Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>
                
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>