<Window x:Class="MyComputerMonitor.WPF.Views.NetworkMonitorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:oxy="http://oxyplot.org/wpf"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="ç½‘ç»œç›‘æŽ§"
        Width="1200"
        Height="800"
        MinWidth="800"
        MinHeight="600"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- æ ‡é¢˜æ  -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="0,0,0,1">
            <Grid Height="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- æ ‡é¢˜ -->
                <StackPanel Grid.Column="0" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <TextBlock Text="ðŸŒ" 
                              FontSize="20" 
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                    <TextBlock Text="ç½‘ç»œç›‘æŽ§" 
                              FontSize="16" 
                              FontWeight="SemiBold"
                              VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- æŽ§åˆ¶æŒ‰é’® -->
                <StackPanel Grid.Column="2" 
                           Orientation="Horizontal"
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <TextBlock Text="ç½‘å¡é€‰æ‹©ï¼š"
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                    <ComboBox x:Name="NetworkAdapterComboBox"
                             Width="200"
                             SelectedIndex="0"
                             SelectionChanged="NetworkAdapterComboBox_SelectionChanged"
                             Margin="0,0,16,0">
                        <ComboBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                                    <Ellipse Width="8" Height="8" 
                                            VerticalAlignment="Center"
                                            Margin="0,0,8,0">
                                        <Ellipse.Style>
                                            <Style TargetType="Ellipse">
                                                <Setter Property="Fill" Value="Red"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsConnected}" Value="True">
                                                        <Setter Property="Fill" Value="Green"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Ellipse.Style>
                                    </Ellipse>
                                    <TextBlock Text="{Binding Name}" 
                                              VerticalAlignment="Center"/>
                                </StackPanel>
                            </DataTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                    <Button Content="ðŸ”„" 
                           Width="32" 
                           Height="32"
                           Margin="0,0,8,0"
                           Click="RefreshButton_Click"
                           ToolTip="åˆ·æ–°æ•°æ®"/>
                    <ComboBox x:Name="TimeRangeComboBox"
                             Width="120"
                             SelectedIndex="2"
                             SelectionChanged="TimeRangeComboBox_SelectionChanged">
                        <ComboBoxItem Content="æœ€è¿‘ 5 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 15 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 30 åˆ†é’Ÿ"/>
                        <ComboBoxItem Content="æœ€è¿‘ 1 å°æ—¶"/>
                        <ComboBoxItem Content="æœ€è¿‘ 2 å°æ—¶"/>
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- ä¸»å†…å®¹ -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Grid Margin="16">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- ç½‘ç»œé€‚é…å™¨åŸºæœ¬ä¿¡æ¯ -->
                <Border Grid.Row="0" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <!-- å·¦ä¾§ä¿¡æ¯ -->
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="ç½‘ç»œé€‚é…å™¨ä¿¡æ¯"
                                      FontSize="16"
                                      FontWeight="SemiBold"
                                      Margin="0,0,0,12"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="é€‚é…å™¨åç§°ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="AdapterNameTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="ç½‘ç»œç±»åž‹ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="NetworkTypeTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="MACåœ°å€ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="MacAddressTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="IPåœ°å€ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="IpAddressTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="è¿žæŽ¥çŠ¶æ€ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="ConnectionStatusTextBlock" Text="èŽ·å–ä¸­..." Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                        
                        <!-- å³ä¾§ä¿¡æ¯ -->
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="å®žæ—¶ç½‘ç»œçŠ¶æ€"
                                      FontSize="16"
                                      FontWeight="SemiBold"
                                      Margin="0,0,0,12"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="ç½‘ç»œä½¿ç”¨çŽ‡ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="NetworkUsageTextBlock" Text="0%" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="ä¸‹è½½é€Ÿåº¦ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="DownloadSpeedTextBlock" Text="0 MB/s" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0" Text="ä¸Šä¼ é€Ÿåº¦ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="UploadSpeedTextBlock" Text="0 MB/s" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="3" Grid.Column="0" Text="æ€»ä¸‹è½½é‡ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="TotalDownloadTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                                
                                <TextBlock Grid.Row="4" Grid.Column="0" Text="æ€»ä¸Šä¼ é‡ï¼š" Margin="0,0,8,4"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="TotalUploadTextBlock" Text="0 GB" Margin="0,0,0,4"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </Border>
                
                <!-- ç½‘ç»œé€Ÿåº¦åŽ†å²å›¾è¡¨ -->
                <Border Grid.Row="1" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="ç½‘ç»œé€Ÿåº¦åŽ†å²"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <oxy:PlotView Grid.Row="1" 
                                     x:Name="NetworkSpeedChart"
                                     Background="Transparent"
                                     MinHeight="200"/>
                    </Grid>
                </Border>
                
                <!-- ç½‘ç»œä½¿ç”¨çŽ‡åŽ†å²å›¾è¡¨ -->
                <Border Grid.Row="2" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="ç½‘ç»œä½¿ç”¨çŽ‡åŽ†å²"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <oxy:PlotView Grid.Row="1" 
                                     x:Name="NetworkUsageChart"
                                     Background="Transparent"
                                     MinHeight="200"/>
                    </Grid>
                </Border>
                
                <!-- å®žæ—¶ç½‘ç»œä½¿ç”¨çŽ‡æ˜¾ç¤º -->
                <Border Grid.Row="3" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Margin="0,0,0,16"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="å®žæ—¶ç½‘ç»œä½¿ç”¨çŽ‡"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <!-- ä¸‹è½½é€Ÿåº¦è¿›åº¦æ¡ -->
                        <Grid Grid.Row="1" Margin="0,0,0,8">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0"
                                      Text="ä¸‹è½½ï¼š"
                                      FontSize="12"
                                      VerticalAlignment="Center"
                                      Margin="0,0,8,0"/>
                            
                            <ProgressBar Grid.Column="1"
                                        x:Name="DownloadProgressBar"
                                        Height="20"
                                        Minimum="0"
                                        Maximum="100"
                                        Value="0"
                                        Background="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                        Foreground="#FF4CAF50"/>
                            
                            <TextBlock Grid.Column="2"
                                      x:Name="DownloadProgressText"
                                      Text="0 MB/s"
                                      FontSize="12"
                                      VerticalAlignment="Center"
                                      Margin="8,0,0,0"/>
                        </Grid>
                        
                        <!-- ä¸Šä¼ é€Ÿåº¦è¿›åº¦æ¡ -->
                        <Grid Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0"
                                      Text="ä¸Šä¼ ï¼š"
                                      FontSize="12"
                                      VerticalAlignment="Center"
                                      Margin="0,0,8,0"/>
                            
                            <ProgressBar Grid.Column="1"
                                        x:Name="UploadProgressBar"
                                        Height="20"
                                        Minimum="0"
                                        Maximum="100"
                                        Value="0"
                                        Background="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                        Foreground="#FF2196F3"/>
                            
                            <TextBlock Grid.Column="2"
                                      x:Name="UploadProgressText"
                                      Text="0 MB/s"
                                      FontSize="12"
                                      VerticalAlignment="Center"
                                      Margin="8,0,0,0"/>
                        </Grid>
                    </Grid>
                </Border>
                
                <!-- ç½‘ç»œé€‚é…å™¨åˆ—è¡¨ -->
                <Border Grid.Row="4" 
                       Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                       BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                       BorderThickness="1"
                       CornerRadius="8"
                       Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0"
                                  Text="æ‰€æœ‰ç½‘ç»œé€‚é…å™¨"
                                  FontSize="16"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,12"/>
                        
                        <ItemsControl Grid.Row="1" x:Name="NetworkAdaptersItemsControl">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                           BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                           BorderThickness="1"
                                           CornerRadius="4"
                                           Margin="0,0,0,8"
                                           Padding="12">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            
                                            <StackPanel Grid.Column="0">
                                                <TextBlock Text="{Binding Name}" FontWeight="SemiBold" FontSize="14"/>
                                                <TextBlock Text="{Binding NetworkType}" FontSize="12" Opacity="0.7"/>
                                                <TextBlock Text="{Binding IpAddress}" FontSize="12" Opacity="0.7"/>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="1" Margin="16,0">
                                                <TextBlock Text="ä¸‹è½½" FontSize="10" HorizontalAlignment="Center"/>
                                                <TextBlock Text="{Binding DownloadSpeed, StringFormat={}{0:F2} MB/s}" FontSize="12" HorizontalAlignment="Center"/>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="2" Margin="16,0">
                                                <TextBlock Text="ä¸Šä¼ " FontSize="10" HorizontalAlignment="Center"/>
                                                <TextBlock Text="{Binding UploadSpeed, StringFormat={}{0:F2} MB/s}" FontSize="12" HorizontalAlignment="Center"/>
                                            </StackPanel>
                                            
                                            <StackPanel Grid.Column="3" Margin="16,0">
                                                <TextBlock Text="çŠ¶æ€" FontSize="10" HorizontalAlignment="Center"/>
                                                <Ellipse Width="12" Height="12" HorizontalAlignment="Center">
                                                    <Ellipse.Style>
                                                        <Style TargetType="Ellipse">
                                                            <Setter Property="Fill" Value="Red"/>
                                                            <Style.Triggers>
                                                                <DataTrigger Binding="{Binding IsConnected}" Value="True">
                                                                    <Setter Property="Fill" Value="Green"/>
                                                                </DataTrigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </Ellipse.Style>
                                                </Ellipse>
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Grid>
                </Border>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>