<Window x:Class="MyComputerMonitor.WPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:vm="clr-namespace:MyComputerMonitor.WPF.ViewModels"
        xmlns:oxy="http://oxyplot.org/wpf"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="{Binding Title}"
        Width="1200"
        Height="800"
        MinWidth="800"
        MinHeight="600"
        WindowStartupLocation="CenterScreen">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- 标题栏 -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="0,0,0,1">
            <Grid Height="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- 应用程序图标和标题 -->
                <StackPanel Grid.Column="0" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <TextBlock Text="🖥️" 
                              FontSize="20" 
                              VerticalAlignment="Center"
                              Margin="0,0,8,0"/>
                    <TextBlock Text="{Binding Title}" 
                              FontSize="16" 
                              FontWeight="SemiBold"
                              VerticalAlignment="Center"/>
                </StackPanel>
                
                <!-- 窗口控制按钮 -->
                <StackPanel Grid.Column="2" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <Button Content="🗕" 
                           Width="32" 
                           Height="32"
                           Margin="4,0"
                           Click="MinimizeButton_Click"
                           ToolTip="最小化到托盘"/>
                    <Button Content="⚙️" 
                           Width="32" 
                           Height="32"
                           Margin="4,0"
                           Command="{Binding NavigateCommand}"
                           CommandParameter="Settings"
                           ToolTip="设置"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- 主内容区域 -->
        <TabControl Grid.Row="1" 
                   SelectedIndex="{Binding SelectedTabIndex}"
                   Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
            
            <!-- 仪表板 -->
            <TabItem Header="📊 仪表板">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}" Margin="16">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <!-- 标题 -->
                        <TextBlock Grid.Row="0" 
                                  Text="系统监控仪表板"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  Margin="0,0,0,16"
                                  Foreground="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
                        
                        <!-- 硬件信息卡片 -->
                        <Grid Grid.Row="1" Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- CPU 卡片 -->
                            <Border Grid.Column="0" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="0,0,8,0"
                                   Padding="16">
                                <StackPanel>
                                    <TextBlock Text="🖥️ CPU" 
                                              FontSize="16" 
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    <TextBlock x:Name="CpuUsageDisplay" 
                                              Text="使用率: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="CpuTempDisplay" 
                                              Text="温度: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="CpuNameDisplay" 
                                              Text="处理器: --"
                                              FontSize="12"
                                              Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                              TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- GPU 卡片 -->
                            <Border Grid.Column="1" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="4,0"
                                   Padding="16">
                                <StackPanel>
                                    <TextBlock Text="🎮 GPU" 
                                              FontSize="16" 
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    <TextBlock x:Name="GpuUsageDisplay" 
                                              Text="使用率: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="GpuTempDisplay" 
                                              Text="温度: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="GpuNameDisplay" 
                                              Text="显卡: --"
                                              FontSize="12"
                                              Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                              TextWrapping="Wrap"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- 内存 卡片 -->
                            <Border Grid.Column="2" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="8,0,0,0"
                                   Padding="16">
                                <StackPanel>
                                    <TextBlock Text="💾 内存" 
                                              FontSize="16" 
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    <TextBlock x:Name="MemoryUsageDisplay" 
                                              Text="使用率: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="MemoryDetailsDisplay" 
                                              Text="已用/总计: --"
                                              FontSize="14"
                                              Margin="0,0,0,4"/>
                                    <TextBlock x:Name="MemoryAvailableDisplay" 
                                              Text="可用: --"
                                              FontSize="12"
                                              Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                            </Border>
                        </Grid>
                        
                        <!-- 温度监控区域 -->
                        <Border Grid.Row="2" 
                               Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                               BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                               BorderThickness="1"
                               CornerRadius="8"
                               Margin="0,0,0,16"
                               Padding="16">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" 
                                          Text="🌡️ 温度监控"
                                          FontSize="16"
                                          FontWeight="SemiBold"
                                          Margin="0,0,0,12"/>
                                
                                <DataGrid Grid.Row="1"
                                         x:Name="TemperatureDataGrid"
                                         ItemsSource="{Binding TemperatureItems}"
                                         AutoGenerateColumns="False"
                                         IsReadOnly="True"
                                         GridLinesVisibility="Horizontal"
                                         HeadersVisibility="Column"
                                         Background="Transparent"
                                         BorderThickness="0"
                                         RowBackground="Transparent"
                                         AlternatingRowBackground="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                         MaxHeight="200"
                                         ScrollViewer.VerticalScrollBarVisibility="Auto">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="硬件类型" 
                                                           Binding="{Binding HardwareType}" 
                                                           Width="100"/>
                                        <DataGridTextColumn Header="硬件名称" 
                                                           Binding="{Binding HardwareName}" 
                                                           Width="*"/>
                                        <DataGridTextColumn Header="传感器" 
                                                           Binding="{Binding SensorName}" 
                                                           Width="120"/>
                                        <DataGridTextColumn Header="温度" 
                                                           Binding="{Binding Temperature, StringFormat={}{0:F1}°C}" 
                                                           Width="80"/>
                                        <DataGridTextColumn Header="状态" 
                                                           Binding="{Binding Status}" 
                                                           Width="80">
                                            <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                    <Style.Triggers>
                                                        <Trigger Property="Text" Value="正常">
                                                            <Setter Property="Foreground" Value="Green"/>
                                                        </Trigger>
                                                        <Trigger Property="Text" Value="警告">
                                                            <Setter Property="Foreground" Value="Orange"/>
                                                        </Trigger>
                                                        <Trigger Property="Text" Value="危险">
                                                            <Setter Property="Foreground" Value="Red"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </DataGridTextColumn.ElementStyle>
                                        </DataGridTextColumn>
                                    </DataGrid.Columns>
                                </DataGrid>
                            </Grid>
                        </Border>
                        
                        <!-- 实时图表 -->
                        <Grid Grid.Row="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <!-- CPU 使用率图表 -->
                            <Border Grid.Row="0" Grid.Column="0" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="0,0,8,8"
                                   Padding="16">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" 
                                              Text="CPU 使用率历史"
                                              FontSize="14"
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    
                                    <oxy:PlotView Grid.Row="1" 
                                                 x:Name="CpuChartView"
                                                 Background="Transparent"
                                                 MinHeight="200"/>
                                </Grid>
                            </Border>
                            
                            <!-- GPU 使用率图表 -->
                            <Border Grid.Row="0" Grid.Column="1" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="8,0,0,8"
                                   Padding="16">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" 
                                              Text="GPU 使用率历史"
                                              FontSize="14"
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    
                                    <oxy:PlotView Grid.Row="1" 
                                                 x:Name="GpuChartView"
                                                 Background="Transparent"
                                                 MinHeight="200"/>
                                </Grid>
                            </Border>
                            
                            <!-- 内存使用率图表 -->
                            <Border Grid.Row="1" Grid.Column="0" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="0,8,8,0"
                                   Padding="16">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" 
                                              Text="内存使用率历史"
                                              FontSize="14"
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    
                                    <oxy:PlotView Grid.Row="1" 
                                                 x:Name="MemoryChartView"
                                                 Background="Transparent"
                                                 MinHeight="200"/>
                                </Grid>
                            </Border>
                            
                            <!-- 系统信息 -->
                            <Border Grid.Row="1" Grid.Column="1" 
                                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                   BorderThickness="1"
                                   CornerRadius="8"
                                   Margin="8,8,0,0"
                                   Padding="16">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Grid.Row="0" 
                                              Text="系统信息"
                                              FontSize="14"
                                              FontWeight="SemiBold"
                                              Margin="0,0,0,8"/>
                                    
                                    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                                        <StackPanel x:Name="SystemInfoPanel">
                                            <TextBlock x:Name="OsInfoDisplay" 
                                                      Text="操作系统: --"
                                                      FontSize="12"
                                                      Margin="0,0,0,4"
                                                      TextWrapping="Wrap"/>
                                            <TextBlock x:Name="UptimeDisplay" 
                                                      Text="运行时间: --"
                                                      FontSize="12"
                                                      Margin="0,0,0,4"/>
                                            <TextBlock x:Name="ProcessCountDisplay" 
                                                      Text="进程数: --"
                                                      FontSize="12"
                                                      Margin="0,0,0,4"/>
                                            <TextBlock x:Name="LastUpdateDisplay" 
                                                      Text="最后更新: --"
                                                      FontSize="10"
                                                      Margin="0,8,0,0"
                                                      Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                                        </StackPanel>
                                    </ScrollViewer>
                                </Grid>
                            </Border>
                        </Grid>
                    </Grid>
                </ScrollViewer>
            </TabItem>
            
            <!-- CPU -->
            <TabItem Header="🖥️ CPU">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               MaxWidth="400">
                        <TextBlock Text="🖥️"
                                  FontSize="48"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="CPU 监控"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="查看详细的CPU使用率、温度、频率等信息"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                  TextWrapping="Wrap"
                                  TextAlignment="Center"
                                  Margin="0,0,0,24"/>
                        <Button Content="打开 CPU 监控"
                               Width="140"
                               Height="36"
                               FontSize="14"
                               Click="CpuMonitorButton_Click"
                               HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- GPU -->
            <TabItem Header="🎮 GPU">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               MaxWidth="400">
                        <TextBlock Text="🎮"
                                  FontSize="48"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="GPU 监控"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="查看详细的GPU使用率、显存、温度、进程等信息"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                  TextWrapping="Wrap"
                                  TextAlignment="Center"
                                  Margin="0,0,0,24"/>
                        <Button Content="打开 GPU 监控"
                               Width="140"
                               Height="36"
                               FontSize="14"
                               Click="GpuMonitorButton_Click"
                               HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- 内存 -->
            <TabItem Header="🧠 内存">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               MaxWidth="400">
                        <TextBlock Text="🧠"
                                  FontSize="48"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="内存监控"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="查看详细的内存使用率、模块信息、进程排行等"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                  TextWrapping="Wrap"
                                  TextAlignment="Center"
                                  Margin="0,0,0,24"/>
                        <Button Content="打开内存监控"
                               Width="140"
                               Height="36"
                               FontSize="14"
                               Click="MemoryMonitorButton_Click"
                               HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            

            
            <!-- 网络 -->
            <TabItem Header="🌐 网络">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               MaxWidth="400">
                        <TextBlock Text="🌐"
                                  FontSize="48"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="网络监控"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="查看详细的网络使用率、流量、连接状态等信息"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                  TextWrapping="Wrap"
                                  TextAlignment="Center"
                                  Margin="0,0,0,24"/>
                        <Button Content="打开网络监控"
                               Width="140"
                               Height="36"
                               FontSize="14"
                               Click="NetworkMonitorButton_Click"
                               HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- 设置 -->
            <TabItem Header="⚙️ 设置">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               MaxWidth="400">
                        <TextBlock Text="⚙️"
                                  FontSize="48"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="应用程序设置"
                                  FontSize="24"
                                  FontWeight="SemiBold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="配置监控参数、报警设置、外观主题等"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                  TextWrapping="Wrap"
                                  TextAlignment="Center"
                                  Margin="0,0,0,24"/>
                        <Button Content="打开设置"
                               Width="120"
                               Height="36"
                               FontSize="14"
                               Click="SettingsButton_Click"
                               HorizontalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
            <!-- 关于 -->
            <TabItem Header="ℹ️ 关于">
                <Grid Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}">
                    <StackPanel HorizontalAlignment="Center"
                               VerticalAlignment="Center">
                        <TextBlock Text="电脑硬件监控"
                                  FontSize="24"
                                  FontWeight="Bold"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,16"/>
                        <TextBlock Text="版本 1.0.0"
                                  FontSize="16"
                                  HorizontalAlignment="Center"
                                  Margin="0,0,0,8"/>
                        <TextBlock Text="实时监控电脑硬件状态"
                                  FontSize="14"
                                  HorizontalAlignment="Center"
                                  Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                    </StackPanel>
                </Grid>
            </TabItem>
            
        </TabControl>
        
        <!-- 状态栏 -->
        <Border Grid.Row="2" 
                Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="0,1,0,0">
            <Grid Height="24">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Column="0" 
                          Text="就绪"
                          VerticalAlignment="Center"
                          Margin="16,0"
                          FontSize="12"/>
                
                <TextBlock Grid.Column="1" 
                          Text="{Binding Source={x:Static System:DateTime.Now}, StringFormat='yyyy-MM-dd HH:mm:ss'}"
                          VerticalAlignment="Center"
                          Margin="16,0"
                          FontSize="12"
                          xmlns:System="clr-namespace:System;assembly=mscorlib"/>
            </Grid>
        </Border>
    </Grid>
</Window>