<Window x:Class="MyComputerMonitor.WPF.Views.TemperatureMonitorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        ui:WindowHelper.UseModernWindowStyle="True"
        Title="硬件温度监控" 
        Height="600" 
        Width="900"
        MinHeight="500"
        MinWidth="800"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 标题栏 -->
        <Border Grid.Row="0" 
                Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                BorderBrush="{DynamicResource SystemControlForegroundBaseMediumLowBrush}"
                BorderThickness="0,0,0,1">
            <Grid Height="48">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" 
                           Orientation="Vertical" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <TextBlock Text="{Binding Title}" 
                              FontSize="16" 
                              FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding LastUpdated, StringFormat='最后更新: {0:HH:mm:ss}'}" 
                               FontSize="12" 
                               Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"/>
                </StackPanel>

                <StackPanel Grid.Column="1" 
                           Orientation="Horizontal" 
                           VerticalAlignment="Center"
                           Margin="16,0">
                    <Button Content="🔄" 
                           Width="32" 
                           Height="32"
                           Margin="4,0"
                           Command="{Binding RefreshCommand}"
                           ToolTip="刷新"/>
                    <Button x:Name="MonitoringToggleButton"
                           Content="⏸️" 
                           Width="32" 
                           Height="32"
                           Margin="4,0"
                           Click="MonitoringToggleButton_Click"
                           ToolTip="停止监控"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 主要内容 -->
        <Grid Grid.Row="1" 
              Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
              Margin="16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- 温度监控 -->
            <Border Grid.Column="0" 
                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Margin="0,0,8,0"
                   Padding="16">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" 
                               Text="🌡️ 温度监控" 
                               FontSize="16" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,16"/>

                    <DataGrid Grid.Row="1" 
                              ItemsSource="{Binding TemperatureItems}"
                              AutoGenerateColumns="False" 
                              CanUserAddRows="False" 
                              CanUserDeleteRows="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="硬件类型" 
                                                Binding="{Binding HardwareType}" 
                                                Width="80"/>
                            <DataGridTextColumn Header="硬件名称" 
                                                Binding="{Binding HardwareName}" 
                                                Width="120"/>
                            <DataGridTextColumn Header="传感器" 
                                                Binding="{Binding SensorName}" 
                                                Width="100"/>
                            <DataGridTextColumn Header="温度" 
                                                Binding="{Binding Temperature, StringFormat={}{0:F1}°C}" 
                                                Width="80"/>
                            <DataGridTextColumn Header="状态" 
                                                Binding="{Binding Status}" 
                                                Width="60"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>

            <!-- 风扇监控 -->
            <Border Grid.Column="1" 
                   Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                   BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                   BorderThickness="1"
                   CornerRadius="8"
                   Margin="8,0,0,0"
                   Padding="16">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" 
                               Text="🌀 风扇监控" 
                               FontSize="16" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,16"/>

                    <DataGrid Grid.Row="1" 
                              ItemsSource="{Binding FanItems}"
                              AutoGenerateColumns="False" 
                              CanUserAddRows="False" 
                              CanUserDeleteRows="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              GridLinesVisibility="Horizontal"
                              HeadersVisibility="Column">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="硬件类型" 
                                                Binding="{Binding HardwareType}" 
                                                Width="80"/>
                            <DataGridTextColumn Header="硬件名称" 
                                                Binding="{Binding HardwareName}" 
                                                Width="120"/>
                            <DataGridTextColumn Header="风扇名称" 
                                                Binding="{Binding FanName}" 
                                                Width="100"/>
                            <DataGridTextColumn Header="转速" 
                                                Binding="{Binding Speed, StringFormat={}{0:F0} RPM}" 
                                                Width="80"/>
                            <DataGridTextColumn Header="状态" 
                                                Binding="{Binding Status}" 
                                                Width="60"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>