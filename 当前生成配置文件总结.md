# 当前生成配置文件总结

## 项目配置文件

### 1. 解决方案配置文件
- **文件路径**: `MyComputerMonitor.sln`
- **配置内容**:
  - Visual Studio 2022 解决方案文件
  - 包含4个项目：Core、Infrastructure、WPF、Tests
  - 支持 Debug 和 Release 两种配置

### 2. 项目配置文件 (.csproj)

#### 2.1 MyComputerMonitor.Core.csproj
- **目标框架**: .NET 9.0
- **语言版本**: C# 13.0
- **特性**: 启用可空引用类型、隐式 using、生成文档文件
- **依赖包**:
  - Microsoft.Extensions.DependencyInjection.Abstractions 9.0.0
  - Microsoft.Extensions.Configuration.Abstractions 9.0.0
  - Microsoft.Extensions.Logging.Abstractions 9.0.0
  - System.ComponentModel.Annotations 5.0.0

#### 2.2 MyComputerMonitor.Infrastructure.csproj
- **目标框架**: .NET 9.0-windows
- **语言版本**: C# 13
- **特性**: 启用可空引用类型、隐式 using、生成文档文件、使用 Windows Forms
- **依赖包**:
  - LibreHardwareMonitorLib 0.9.3
  - Microsoft.Extensions.DependencyInjection 9.0.0
  - Microsoft.Extensions.Configuration 9.0.0
  - Microsoft.Extensions.Configuration.Json 9.0.0
  - Microsoft.Extensions.Logging 9.0.0
  - Microsoft.Extensions.Hosting 9.0.0
  - System.Text.Json 9.0.0
  - System.Diagnostics.PerformanceCounter 9.0.0
  - System.Drawing.Common 9.0.0
  - TaskScheduler 2.12.2

#### 2.3 MyComputerMonitor.WPF.csproj
- **目标框架**: .NET 9.0-windows
- **语言版本**: C# 13
- **输出类型**: Windows 可执行文件
- **特性**: 启用 WPF、可空引用类型、隐式 using
- **程序集信息**:
  - 标题: 电脑硬件监控
  - 描述: 实时监控电脑硬件状态的应用程序
  - 版本: 1.0.0.0
- **依赖包**:
  - Microsoft.Extensions.Hosting 9.0.0
  - Microsoft.Extensions.DependencyInjection 9.0.0
  - Microsoft.Extensions.Logging 9.0.0
  - Microsoft.Extensions.Configuration 9.0.0
  - Microsoft.Extensions.Configuration.Json 9.0.0
  - CommunityToolkit.Mvvm 8.3.2
  - ModernWpfUI 0.9.6
  - OxyPlot.Wpf 2.2.0
  - Hardcodet.NotifyIcon.Wpf 1.1.0
  - System.Drawing.Common 9.0.0

#### 2.4 MyComputerMonitor.Tests.csproj
- **目标框架**: .NET 9.0-windows
- **语言版本**: C# 13
- **特性**: 测试项目、不可打包
- **依赖包**:
  - Microsoft.NET.Test.Sdk 17.11.1
  - xunit 2.9.2
  - xunit.runner.visualstudio 2.8.2
  - coverlet.collector 6.0.2
  - Moq 4.20.72
  - FluentAssertions 6.12.1
  - Microsoft.Extensions.Logging.Abstractions 9.0.0
  - Microsoft.Extensions.DependencyInjection 9.0.0

### 3. 运行时配置文件

#### 3.1 MyComputerMonitor.WPF.runtimeconfig.json
- **目标框架**: .NET 9.0
- **运行时框架**:
  - Microsoft.NETCore.App 9.0.0
  - Microsoft.WindowsDesktop.App 9.0.0
- **配置属性**:
  - MVVMTOOLKIT_ENABLE_INOTIFYPROPERTYCHANGING_SUPPORT: true
  - System.Reflection.Metadata.MetadataUpdater.IsSupported: false
  - System.Runtime.Serialization.EnableUnsafeBinaryFormatterSerialization: false
  - CSWINRT_USE_WINDOWS_UI_XAML_PROJECTIONS: false

## 应用程序配置

### 4. 配置管理服务 (ConfigurationService)
- **配置文件路径**: `%AppData%\MyComputerMonitor\config.json`
- **配置格式**: JSON
- **配置类型**:

#### 4.1 监控配置 (MonitoringConfiguration)
```json
{
  "monitoringInterval": 1000,           // 监控间隔（毫秒）
  "enableCpuMonitoring": true,          // 启用CPU监控
  "enableGpuMonitoring": true,          // 启用GPU监控
  "enableMemoryMonitoring": true,       // 启用内存监控
  "enableNetworkMonitoring": true,      // 启用网络监控
  "enableStorageMonitoring": true,      // 启用存储设备监控
  "cpuTemperatureWarningThreshold": 70, // CPU温度警告阈值（°C）
  "cpuTemperatureCriticalThreshold": 85, // CPU温度危险阈值（°C）
  "gpuTemperatureWarningThreshold": 75, // GPU温度警告阈值（°C）
  "gpuTemperatureCriticalThreshold": 90, // GPU温度危险阈值（°C）
  "memoryUsageWarningThreshold": 80,    // 内存使用率警告阈值（%）
  "memoryUsageCriticalThreshold": 90    // 内存使用率危险阈值（%）
}
```

#### 4.2 UI配置 (UiConfiguration)
```json
{
  "theme": "Light",                     // 主题名称
  "language": "zh-CN",                  // 语言设置
  "windowWidth": 1200,                  // 窗口宽度
  "windowHeight": 800,                  // 窗口高度
  "windowLeft": 100,                    // 窗口位置X
  "windowTop": 100,                     // 窗口位置Y
  "isWindowMaximized": false,           // 是否最大化窗口
  "showSystemTrayIcon": true,           // 显示系统托盘图标
  "minimizeToSystemTray": true,         // 最小化到系统托盘
  "startWithWindows": false,            // 开机自启动
  "chartRefreshInterval": 1000,         // 图表刷新间隔（毫秒）
  "chartHistoryPoints": 60              // 图表历史数据点数
}
```

#### 4.3 通知配置 (NotificationConfiguration)
```json
{
  "enableNotifications": true,                    // 启用通知
  "enableSoundNotifications": true,               // 启用声音通知
  "enableDesktopNotifications": true,             // 启用桌面通知
  "enableTrayNotifications": true,                // 启用系统托盘通知
  "notificationDisplayTime": 5000,                // 通知显示时间（毫秒）
  "enableTemperatureWarnings": true,              // 启用温度警告通知
  "enableUsageWarnings": true,                    // 启用使用率警告通知
  "enableHardwareStatusNotifications": true      // 启用硬件状态变化通知
}
```

## 构建配置

### 5. 当前构建配置
- **配置模式**: Release
- **目标平台**: Any CPU
- **输出路径**: `bin\Release\net9.0-windows\`
- **编译器版本**: C# 13.0
- **运行时版本**: .NET 9.0.7

### 6. 依赖项配置
- **依赖项文件**: `*.deps.json`
- **包含的框架**:
  - Microsoft.NETCore.App 9.0.7
  - Microsoft.WindowsDesktop.App 9.0.7
- **主要依赖包**:
  - LibreHardwareMonitorLib 0.9.3 (硬件监控)
  - Microsoft.Extensions.* 9.0.0 (依赖注入、配置、日志)
  - CommunityToolkit.Mvvm 8.3.2 (MVVM框架)
  - ModernWpfUI 0.9.6 (现代UI)
  - OxyPlot.Wpf 2.2.0 (图表控件)
  - Hardcodet.NotifyIcon.Wpf 1.1.0 (系统托盘)

## 配置文件特点

### 7. 配置管理特性
- **动态配置**: 支持运行时修改配置
- **配置验证**: 使用数据注解进行配置验证
- **配置持久化**: 自动保存到JSON文件
- **默认配置**: 提供完整的默认配置
- **配置事件**: 支持配置变更事件通知
- **线程安全**: 使用锁机制确保线程安全

### 8. 配置文件位置
- **用户配置**: `%AppData%\MyComputerMonitor\config.json`
- **项目配置**: 各项目根目录下的 `.csproj` 文件
- **解决方案配置**: 根目录下的 `.sln` 文件
- **运行时配置**: 输出目录下的 `.runtimeconfig.json` 文件

## 总结

当前项目采用了完整的配置管理体系：
1. **项目级配置**: 通过 .csproj 文件管理项目依赖和编译设置
2. **运行时配置**: 通过 .runtimeconfig.json 管理运行时环境
3. **应用程序配置**: 通过自定义配置服务管理业务配置
4. **构建配置**: 支持 Debug/Release 两种构建模式

所有配置都支持版本控制、动态修改和持久化存储，为应用程序提供了灵活的配置管理能力。